<!DOCTYPE html>
<html>
<head>
    <title>Mandelbrot Check</title>
    <style>
        body { margin: 0; background: #111; }
        canvas { display: block; width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <canvas id="fractalCanvas"></canvas>

    <script>
        // 1. Basic Setup
        const canvas = document.getElementById('fractalCanvas');
        const ctx = canvas.getContext('2d');
        
        // 2. Size Canvas to Window
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        
        // 3. Mandelbrot Calculation (No Colors)
        function drawMandelbrot() {
            const width = canvas.width;
            const height = canvas.height;
            const imageData = ctx.createImageData(width, height);
            const data = imageData.data;
            
            for (let x = 0; x < width; x++) {
                for (let y = 0; y < height; y++) {
                    const cx = -2 + 3 * x / width;  // X range: -2 to 1
                    const cy = -1.1 + 2.2 * y / height;  // Y range: -1.1 to 1.1
                    
                    let zx = 0, zy = 0, iter = 0;
                    while (zx * zx + zy * zy <= 4 && iter < 100) {
                        const tmp = zx * zx - zy * zy + cx;
                        zy = 2 * zx * zy + cy;
                        zx = tmp;
                        iter++;
                    }
                    
                    const idx = (y * width + x) * 4;
                    const color = iter === 100 ? 0 : 255; // Black or White
                    data.set([color, color, color, 255], idx);
                }
            }
            ctx.putImageData(imageData, 0, 0);
            console.log("Mandelbrot rendered!");
        }
        
        // 4. Initial Draw
        drawMandelbrot();
    </script>
</body>
</html>
